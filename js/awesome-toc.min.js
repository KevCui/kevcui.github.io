(function(g){var f=false;var i=function(t){if(f){console.log(t)}};var k={};var m={css:{fontSize:"90%",largeFontSize:"120%",fontColor:"#999",activeFontColor:"#fff",lineHeight:"1.8",backgroundColor:"#222",zIndex:999999},title:"文章目录",windowMinWidth:600,sideBarId:"sidebar-toc-Ik4D",sideBarWidth:"300px",sideBarPrefix:"sidebar-toc-Ik4D-",itemPrefix:"- ",headingList:["h1","h2","h3","h4","h5","h6"],enableToTopButton:true,enableToc:true,overlay:false,autoDetectHeadings:true,contentId:"",contentClass:"",displayNow:false,topOffset:0};var a=function(){var t=document.createElement("div");t.setAttribute("id",m.sideBarId);t.setAttribute("class",m.sideBarId);g("body").append(t);g(t).css({background:m.css.backgroundColor+" none repeat scroll 0 0",bottom:"0","box-shadow":"0 2px 4px #000 inset",position:"fixed",right:"0",top:"0",width:"0","z-index":""+m.css.zIndex,color:m.css.fontColor,overflow:"auto","font-size":m.css.fontSize,"text-align":"left"});c();b()};var c=function(z){z=z||document;var t=z.body;if(m.contentClass.length>0){t=document.getElementsByClassName(m.contentClass)[0]}if(m.contentId.length>0){t=document.getElementById(m.contentId)}i(t);var y=z.getElementById(m.sideBarId);var w=z.createElement("div");g(w).css({"text-align":"center","border-bottom-color":m.css.activeFontColor,color:m.css.activeFontColor,"border-width":"0 0 1.5px 0","border-style":"solid","font-size":m.css.largeFontSize,padding:"8px 0"});w.textContent=m.title;y.appendChild(w);var u=m.headingList;if(u.length>0){var v=[].slice.call(t.querySelectorAll(u.join(", ")));v.forEach(function(D,B){var A=z.createElement("a");A.setAttribute("name",""+m.sideBarPrefix+B);A.setAttribute("id",""+m.sideBarPrefix+B);D.parentNode.insertBefore(A,D);var C=z.createElement("a");C.setAttribute("href","#"+m.sideBarPrefix+B);C.textContent=m.itemPrefix+D.textContent;g(C).click(function(G){g(this).parent().parent().find("a").css({color:m.css.fontColor});g(this).css({color:m.css.activeFontColor});var F=g(g(this).attr("href")).offset().top-m.topOffset;q();g("html, body").stop().animate({scrollTop:F},{duration:300,complete:b});G.preventDefault()});var E=z.createElement("div");g(E).css({"padding-left":j(D.tagName.toLowerCase(),u,20),"text-align":"left"});E.appendChild(C);y.appendChild(E)})}g("#"+m.sideBarId+" div").css({margin:"0 12px"});var x="#"+m.sideBarId+" a, ";x+="#"+m.sideBarId+" a:hover, ";x+="#"+m.sideBarId+" a:visited";g(x).css({color:m.css.fontColor,"word-wrap":"break-word","text-decoration":"none","line-height":m.css.lineHeight})};var j=function(w,v,u){var t=0;for(;t<v.length;t++){if(w!==v[t]){continue}else{break}}if(t>=v.length){t=0}return""+t*u+"px"};var l=function(){var v=document.createElement("div");v.setAttribute("id",m.sideBarPrefix+"toggleBtn");g(v).css({background:"#222 none repeat scroll 0 0",bottom:"55px",cursor:"pointer",height:"15px","line-height":"0",padding:"5px",position:"fixed",right:"50px",width:"15px","z-index":""+(m.css.zIndex+1)});for(var u=0;u<3;u++){var t=document.createElement("span");g(t).css({background:"#fff none repeat scroll 0 0",display:"inline-block",height:"2px","margin-top":"2px",position:"relative","vertical-align":"top",width:"100%"}).appendTo(v)}g("body").append(v);v.onclick=p};var p=function(){i("in toggleButtonClickListener: overlay "+m.overlay);if(g(window).width()<m.windowMinWidth){return}var t=g("#"+m.sideBarId);if(t.hasClass(m.sideBarPrefix+"active")){t.removeClass(m.sideBarPrefix+"active");g(t).animate({width:"0"});if(!m.overlay){g("body").animate({"margin-right":"0"})}}else{t.addClass(m.sideBarPrefix+"active");g(t).animate({width:m.sideBarWidth});if(!m.overlay){g("body").animate({"margin-right":m.sideBarWidth})}}};var s=function(){var t=document.createElement("div");t.setAttribute("id",m.sideBarPrefix+"toTopBtn");g(t).css({background:"#222 none repeat scroll 0 0",bottom:"25px",cursor:"pointer",height:"15px","line-height":"15px",padding:"5px",position:"fixed",right:"50px",width:"15px","z-index":""+(m.css.zIndex+1),color:"#fff","font-size":"16px","text-align":"center"}).html('<span style="margin: 0 auto">&#9650;</span>');t.onclick=function(){g("html, body").animate({scrollTop:0},600)};g("body").append(t)};var h=function(){var t=g(this).scrollTop()+10;var u=k.scrollItems.map(function(){if(g(this).offset().top<t){return this}});u=u[u.length-1];var v=u&&u.length?u[0].id:"";if(k.lastId!==v&&!v.includes("sidebar-toc-Ik4D")){k.lastId=v;k.menuItems.css({color:m.css.fontColor});k.menuItems.filter("[href=#"+v+"]").css({color:m.css.activeFontColor})}};var q=function(){g(window).off("scroll",h)};var b=function(){g(window).scroll(h)};var n=function(){var t="body";if(m.contentClass.length>0){t="."+m.contentClass}if(m.contentId.length>0){t="#"+m.contentId}return g(t)};var o=function(y,z){y=y||1;z=z||6;var w=["h1","h2","h3","h4","h5","h6"];var v=n();var u=[];for(var t=0;t<w.length;t++){var x=w[t];if(u.length===0){if(v.find(x).length>=y){u.push(x)}}else{if(g(x).length>=1){u.push(x)}}if(u.length>=z){break}}return u};var r=function(v){var w=n();var u=[];for(var t=0;t<v.length;t++){var x=v[t];if(w.find(x).length>0){u.push(x.toLowerCase())}}return u};var e=function(){if(g("#"+m.sideBarPrefix+"toggleBtn").length===0){return false}else{return true}};var d=function(){if(g("#"+m.sideBarPrefix+"toTopBtn").length===0){return false}else{return true}};g.extend({awesome_toc:function(t){g.extend(true,m,t);m.contentId=m.contentId.trim();m.contentClass=m.contentClass.trim();if(m.autoDetectHeadings){m.headingList=o()}m.headingList=r(m.headingList);if(m.enableToc&&!e()){a();l();k.lastId="";(k.sideBar=g("#"+m.sideBarId)),(k.menuItems=k.sideBar.find("a")),(k.scrollItems=k.menuItems.map(function(){var u=g(g(this).attr("href"));if(u.length){return u}}));i(k)}if(m.enableToTopButton&&!d()){s()}if(m.displayNow){p()}}})})(jQuery);